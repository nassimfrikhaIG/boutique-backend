(self.webpackChunktest=self.webpackChunktest||[]).push([[594],{6594:(t,e,c)=>{"use strict";c.r(e),c.d(e,{ContactModule:()=>Z});var n=c(1116),o=c(3146),s=c(5614),r=c(529),a=c(2693);let i=(()=>{class t{constructor(t){this.http=t,this.apiUrl=`${r.N.apiUrl}/contacts`}getAllContacts(){return this.http.get(`${this.apiUrl}`)}deleteContact(t){return this.http.delete(`${this.apiUrl}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(a.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function u(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.ALo(9,"date"),s.qZA(),s.TgZ(10,"td"),s.TgZ(11,"button",4),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().deleteContact(e._id)}),s._uU(12,"Delete"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Oqu(t.email),s.xp6(2),s.Oqu(t.message),s.xp6(2),s.Oqu(s.xi3(9,4,t.date,"short"))}}const l=[{path:"",component:(()=>{class t{constructor(t){this.contactService=t,this.contacts=[]}ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.getAllContacts().subscribe(t=>{this.contacts=t.contacts},t=>{console.error("Erreur lors du chargement des contacts",t)})}deleteContact(t){this.contactService.deleteContact(t).subscribe(t=>{console.log("Contact supprim\xe9",t),this.loadContacts()},t=>{console.error("Erreur lors de la suppression",t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(i))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-contact"]],decls:18,vars:1,consts:[[1,"container-fluid"],[1,"h3","mb-4","text-gray-800"],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"h1",1),s._uU(2,"Liste des Contacts"),s.qZA(),s.TgZ(3,"table",2),s.TgZ(4,"thead"),s.TgZ(5,"tr"),s.TgZ(6,"th"),s._uU(7,"Nom"),s.qZA(),s.TgZ(8,"th"),s._uU(9,"Email"),s.qZA(),s.TgZ(10,"th"),s._uU(11,"Message"),s.qZA(),s.TgZ(12,"th"),s._uU(13,"Date"),s.qZA(),s.TgZ(14,"th"),s._uU(15,"Actions"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(16,"tbody"),s.YNc(17,u,13,7,"tr",3),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(17),s.Q6J("ngForOf",e.contacts))},directives:[n.sg],pipes:[n.uU],styles:[""]}),t})()}];let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.Bz.forChild(l)],o.Bz]}),t})(),Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.ez,p]]}),t})()}}]);