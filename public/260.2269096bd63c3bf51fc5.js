(self.webpackChunktest=self.webpackChunktest||[]).push([[260],{1260:(t,i,e)=>{"use strict";e.r(i),e.d(i,{PanierModule:()=>d});var n=e(1116),r=e(3146),a=e(5614),o=e(5482),c=e(2225);function u(t,i){if(1&t&&(a.TgZ(0,"span",57),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.hij(" ",t.product.price,"DT ")}}const s=function(t){return["/product",t]},p=function(t){return["/shop",t]};function g(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a.TgZ(2,"div",42),a.TgZ(3,"div",43),a._UZ(4,"img",44),a.qZA(),a.TgZ(5,"div",45),a.TgZ(6,"span",46),a.TgZ(7,"a",47),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"span",48),a.TgZ(10,"a",47),a._uU(11),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"td"),a.TgZ(13,"span",49),a._uU(14),a.YNc(15,u,2,1,"span",50),a.qZA(),a.qZA(),a.TgZ(16,"td"),a.TgZ(17,"div",51),a.TgZ(18,"div",52),a.TgZ(19,"span",53),a.NdJ("click",function(){const i=a.CHM(t).$implicit;return a.oxw().updateQuantity(i.product._id,i.quantity-1)}),a.qZA(),a._UZ(20,"input",54),a.TgZ(21,"span",55),a.NdJ("click",function(){const i=a.CHM(t).$implicit;return a.oxw().updateQuantity(i.product._id,i.quantity+1)}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(22,"td"),a.TgZ(23,"a",56),a.NdJ("click",function(){const i=a.CHM(t).$implicit;return a.oxw().removeProduct(i.product._id)}),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=i.$implicit;a.xp6(4),a.Q6J("src",t.product.image,a.LSH),a.xp6(3),a.Q6J("routerLink",a.VKq(8,s,t.product._id)),a.xp6(1),a.hij(" ",t.product.name," "),a.xp6(2),a.Q6J("routerLink",a.VKq(10,p,t.product.category._id)),a.xp6(1),a.hij(" ",t.product.category.name," "),a.xp6(3),a.hij(" ",t.price||t.product.price,"DT "),a.xp6(1),a.Q6J("ngIf",t.price&&t.product.price&&t.price!==t.product.price),a.xp6(5),a.Q6J("value",t.quantity)}}const l=[{path:"",component:(()=>{class t{constructor(t,i,e){this.route=t,this.cartService=i,this.authService=e,this.cart=null,this.totalPrice=0,this.isLoggedIn=!1,this.cartSubscription=null}ngOnInit(){this.isLoggedIn=this.authService.userLoggedIn(),this.cartSubscription=this.cartService.cartState$.subscribe(t=>{t&&(this.cart=t,this.calculateTotal())}),this.loadCart()}ngOnDestroy(){this.cartSubscription&&this.cartSubscription.unsubscribe()}loadCart(){this.cartService.getCart().subscribe()}removeProduct(t){this.cartService.removeFromCart(t).subscribe()}clearCart(){this.cartService.clearCart().subscribe()}updateQuantity(t,i){i>0&&this.cartService.updateQuantity(t,i).subscribe()}calculateTotal(){this.totalPrice=this.cart&&this.cart.items?this.cart.items.reduce((t,i)=>t+i.quantity*(i.price||i.product&&i.product.price||0),0):0}navigateToCheckout(){this.authService.userLoggedIn()?this.route.navigate(["/checkout"]):this.route.navigate(["/login"])}}return t.\u0275fac=function(i){return new(i||t)(a.Y36(r.F0),a.Y36(o.r),a.Y36(c.A))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-panier"]],decls:66,vars:3,consts:[["id","app"],[1,"app-content"],[1,"u-s-p-y-60"],[1,"section__content"],[1,"container"],[1,"breadcrumb"],[1,"breadcrumb__wrap"],[1,"breadcrumb__list"],[1,"has-separator"],["routerLink","/"],[1,"is-marked"],["routerLink","/cart"],[1,"u-s-p-b-60"],[1,"section__intro","u-s-m-b-60"],[1,"row"],[1,"col-lg-12"],[1,"section__text-wrap"],[1,"section__heading","u-c-secondary"],[1,"col-lg-12","col-md-12","col-sm-12","u-s-m-b-30"],[1,"table-responsive"],[1,"table-p"],[4,"ngFor","ngForOf"],[1,"route-box"],[1,"route-box__g1"],["routerLink","/boutiquegrid",1,"route-box__link"],[1,"fas","fa-long-arrow-alt-left"],[1,"route-box__g2"],[1,"route-box__link",3,"click"],[1,"fas","fa-trash"],[1,"shopping-cart-summary"],[1,"cart-total-container"],[1,"cart-summary-content"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"summary-divider"],[1,"summary-total"],[1,"total-label"],[1,"total-value"],[1,"cart-checkout-btn"],[1,"btn-checkout",3,"click"],[1,"fas","fa-lock","u-s-m-r-10"],[1,"table-p__box"],[1,"table-p__img-wrap"],["alt","",1,"u-img-fluid",3,"src"],[1,"table-p__info"],[1,"table-p__name"],[3,"routerLink"],[1,"table-p__category"],[1,"table-p__price"],["class","original-price text-muted text-decoration-line-through",4,"ngIf"],[1,"table-p__input-counter-wrap"],[1,"input-counter"],[1,"input-counter__minus","fas","fa-minus",3,"click"],["type","number","min","1","max","1000","readonly","",1,"input-counter__text",3,"value"],[1,"input-counter__plus","fas","fa-plus",3,"click"],[1,"far","fa-trash-alt","table-p__delete-link",3,"click"],[1,"original-price","text-muted","text-decoration-line-through"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a.TgZ(5,"div",5),a.TgZ(6,"div",6),a.TgZ(7,"ul",7),a.TgZ(8,"li",8),a.TgZ(9,"a",9),a._uU(10,"Accueil"),a.qZA(),a.qZA(),a.TgZ(11,"li",10),a.TgZ(12,"a",11),a._uU(13,"Panier"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"div",12),a.TgZ(15,"div",13),a.TgZ(16,"div",4),a.TgZ(17,"div",14),a.TgZ(18,"div",15),a.TgZ(19,"div",16),a.TgZ(20,"h1",17),a._uU(21,"PANIER"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(22,"div",3),a.TgZ(23,"div",4),a.TgZ(24,"div",14),a.TgZ(25,"div",18),a.TgZ(26,"div",19),a.TgZ(27,"table",20),a.TgZ(28,"tbody"),a.YNc(29,g,24,12,"tr",21),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(30,"div",15),a.TgZ(31,"div",22),a.TgZ(32,"div",23),a.TgZ(33,"a",24),a._UZ(34,"i",25),a.TgZ(35,"span"),a._uU(36,"CONTINUE SHOPPING"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(37,"div",26),a.TgZ(38,"a",27),a.NdJ("click",function(){return i.clearCart()}),a._UZ(39,"i",28),a.TgZ(40,"span"),a._uU(41,"EFFACER LE PANIER"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(42,"div",15),a.TgZ(43,"div",29),a.TgZ(44,"div",30),a.TgZ(45,"div",31),a.TgZ(46,"div",32),a.TgZ(47,"span",33),a._uU(48,"Sous-total:"),a.qZA(),a.TgZ(49,"span",34),a._uU(50),a.qZA(),a.qZA(),a.TgZ(51,"div",32),a.TgZ(52,"span",33),a._uU(53,"Frais de livraison:"),a.qZA(),a.TgZ(54,"span",34),a._uU(55,"Gratuit"),a.qZA(),a.qZA(),a._UZ(56,"div",35),a.TgZ(57,"div",36),a.TgZ(58,"span",37),a._uU(59,"TOTAL TTC:"),a.qZA(),a.TgZ(60,"span",38),a._uU(61),a.qZA(),a.qZA(),a.TgZ(62,"div",39),a.TgZ(63,"button",40),a.NdJ("click",function(){return i.navigateToCheckout()}),a._UZ(64,"i",41),a._uU(65," Proc\xe9der au paiement "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(29),a.Q6J("ngForOf",null==i.cart?null:i.cart.items),a.xp6(21),a.hij("",i.totalPrice," DT"),a.xp6(11),a.hij("",i.totalPrice," DT"))},directives:[r.yS,n.sg,n.O5],styles:[".shopping-cart-summary[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:50px}.cart-total-container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;box-shadow:0 2px 10px #0000000d;padding:25px;max-width:450px;margin-left:auto}.cart-summary-header[_ngcontent-%COMP%]{margin-bottom:20px;border-bottom:1px solid #e1e1e1;padding-bottom:15px}.summary-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin:0}.cart-summary-content[_ngcontent-%COMP%]{padding:5px 0}.summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:15px;font-size:15px;color:#555}.summary-label[_ngcontent-%COMP%], .summary-value[_ngcontent-%COMP%]{font-weight:500}.summary-divider[_ngcontent-%COMP%]{height:1px;background-color:#e1e1e1;margin:15px 0}.summary-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px 0}.total-label[_ngcontent-%COMP%]{color:#333}.total-label[_ngcontent-%COMP%], .total-value[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.total-value[_ngcontent-%COMP%]{color:#ff4747}.cart-checkout-btn[_ngcontent-%COMP%]{margin-top:20px}.btn-checkout[_ngcontent-%COMP%]{display:block;width:100%;padding:12px 20px;background-color:#ff4747;color:#fff;border:none;border-radius:4px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .3s ease;text-align:center}.btn-checkout[_ngcontent-%COMP%]:hover{background-color:#e53935}@media (max-width:768px){.cart-total-container[_ngcontent-%COMP%]{max-width:100%}}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[r.Bz.forChild(l)],r.Bz]}),t})(),d=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[n.ez,Z]]}),t})()}}]);