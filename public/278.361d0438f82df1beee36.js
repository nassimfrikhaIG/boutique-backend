(self.webpackChunktest=self.webpackChunktest||[]).push([[278],{2278:(t,i,e)=>{"use strict";e.r(i),e.d(i,{DetailproduitModule:()=>E});var n=e(1116),o=e(3146),a=e(5614),r=e(2807),s=e(5482),c=e(6167),g=e(2225),u=e(7512),d=e(1462);const l=function(t,i){return{"image-loading":t,"image-change":i}};function p(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"img",98),a.NdJ("load",function(){return a.CHM(t),a.oxw(2).onImageLoad()}),a.qZA(),a.qZA()}if(2&t){const t=a.oxw(2);a.xp6(1),a.Q6J("ngClass",a.WLB(3,l,t.imageLoading,t.imageChanged))("src",t.currentImage,a.LSH),a.uIk("data-zoom-image",t.currentImage)}}function Z(t,i){1&t&&a._UZ(0,"img",99),2&t&&a.Q6J("src","/path/to/default-image.jpg",a.LSH)}function f(t,i){if(1&t&&(a.TgZ(0,"div",96),a.YNc(1,p,2,6,"div",11),a.YNc(2,Z,1,1,"ng-template",null,97,a.W1O),a.qZA()),2&t){const t=a.MAs(3),i=a.oxw();a.xp6(1),a.Q6J("ngIf",null==i.produit?null:i.produit.image)("ngIfElse",t)}}const h=function(t){return{"active-thumbnail":t}};function v(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"img",100),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return i.changeMainImage(i.produit.image)}),a.qZA()}if(2&t){const t=a.oxw();a.Q6J("ngClass",a.VKq(2,h,t.currentImage===t.produit.image))("src",t.produit.image,a.LSH)}}function m(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"img",102),a.NdJ("click",function(){const i=a.CHM(t).$implicit;return a.oxw(2).changeMainImage(i)}),a.qZA()}if(2&t){const t=i.$implicit,e=a.oxw(2);a.Q6J("ngClass",a.VKq(2,h,e.currentImage===t))("src",t,a.LSH)}}function T(t,i){if(1&t&&(a.TgZ(0,"div"),a.YNc(1,m,1,4,"img",101),a.qZA()),2&t){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.produit.images)}}function _(t,i){1&t&&(a.TgZ(0,"p"),a._uU(1,"No images available"),a.qZA())}function q(t,i){if(1&t&&a.YNc(0,_,2,0,"p",103),2&t){const t=a.oxw();a.Q6J("ngIf",!(null!=t.produit&&t.produit.image))}}function b(t,i){if(1&t&&(a.TgZ(0,"span",104),a._uU(1),a.qZA()),2&t){const t=a.oxw();a.xp6(1),a.hij("(",t.produit.discount,"% OFF)")}}function A(t,i){if(1&t&&(a.TgZ(0,"del",105),a._uU(1),a.qZA()),2&t){const t=a.oxw();a.xp6(1),a.hij("",t.produit.oldPrice," DT")}}function x(t,i){if(1&t&&(a.TgZ(0,"span",106),a._uU(1),a.qZA()),2&t){const t=a.oxw();a.xp6(1),a.hij(" Seulement ",t.produit.stock," unit\xe9(s) restante(s) ")}}function w(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"div",107),a.TgZ(1,"p"),a._uU(2,"Le produit a \xe9t\xe9 ajout\xe9 \xe0 votre liste de souhaits."),a.qZA(),a.TgZ(3,"button",108),a.NdJ("click",function(){return a.CHM(t),a.oxw().goToWishlist()}),a._uU(4,"Voir votre liste"),a.qZA(),a.qZA()}}function M(t,i){if(1&t&&a._UZ(0,"i",109),2&t){const t=i.index,e=a.oxw();a.ekj("fa-star",t<e.averageRating)("fa-star-half-alt",t>=e.averageRating&&t<e.averageRating+.5)("fa-star-o",t>=e.averageRating+.5)}}function C(t,i){if(1&t&&(a.ynx(0),a._UZ(1,"i"),a.BQk()),2&t){const t=i.index,e=a.oxw().$implicit;a.xp6(1),a.Tol(e.rating>t?"fas fa-star":"far fa-star")}}const y=function(){return[1,2,3,4,5]};function k(t,i){if(1&t&&(a.TgZ(0,"div",110),a.TgZ(1,"div",111),a.TgZ(2,"span",112),a._uU(3),a.qZA(),a.TgZ(4,"span",113),a._uU(5),a.ALo(6,"date"),a.qZA(),a.qZA(),a.TgZ(7,"div",114),a.YNc(8,C,2,3,"ng-container",115),a.TgZ(9,"span"),a._uU(10),a.qZA(),a.qZA(),a.TgZ(11,"p",116),a._uU(12),a.qZA(),a.qZA()),2&t){const t=i.$implicit;a.xp6(3),a.Oqu(t.user.username),a.xp6(2),a.Oqu(a.xi3(6,5,t.createdAt,"dd MMM yyyy HH:mm:ss")),a.xp6(3),a.Q6J("ngForOf",a.DdM(8,y)),a.xp6(2),a.hij("(",t.rating,")"),a.xp6(2),a.Oqu(t.comment)}}const U=function(){return["/checkout"]};function N(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"div",124),a.TgZ(1,"div",125),a.TgZ(2,"div",126),a._UZ(3,"img",127),a.qZA(),a.TgZ(4,"div",128),a.TgZ(5,"h4"),a._uU(6),a.qZA(),a.TgZ(7,"p"),a._uU(8),a.qZA(),a.TgZ(9,"p"),a._uU(10),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"div",129),a.TgZ(12,"h4"),a._uU(13,"Il y a 1 article dans votre panier."),a.qZA(),a.TgZ(14,"div",130),a.TgZ(15,"span"),a._uU(16,"Sous-total :"),a.qZA(),a.TgZ(17,"span"),a._uU(18),a.qZA(),a.qZA(),a.TgZ(19,"div",130),a.TgZ(20,"span"),a._uU(21,"Transport :"),a.qZA(),a.TgZ(22,"span"),a._uU(23),a.qZA(),a.qZA(),a.TgZ(24,"div",131),a.TgZ(25,"span"),a._uU(26,"Total TTC"),a.qZA(),a.TgZ(27,"span"),a._uU(28),a.qZA(),a.qZA(),a.TgZ(29,"div",132),a.TgZ(30,"button",133),a.NdJ("click",function(){return a.CHM(t),a.oxw(2).cartNotificationVisible=!1}),a._uU(31," Continuer vos achats "),a.qZA(),a.TgZ(32,"button",134),a._UZ(33,"i",120),a._uU(34," Passer \xe0 la caisse "),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=a.oxw(2);a.xp6(3),a.s9C("alt",t.produit.name),a.Q6J("src",t.produit.image,a.LSH),a.xp6(3),a.Oqu(t.produit.name),a.xp6(2),a.hij("",t.produit.price," TND"),a.xp6(2),a.hij("Quantit\xe9: ",t.quantity,""),a.xp6(8),a.hij("",t.cartTotals.subtotal.toFixed(3)," TND"),a.xp6(5),a.hij("",t.cartTotals.shipping.toFixed(3)," TND"),a.xp6(5),a.hij("",t.cartTotals.total.toFixed(3)," TND"),a.xp6(4),a.Q6J("routerLink",a.DdM(9,U))}}function O(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"div",117),a.TgZ(1,"div",118),a.TgZ(2,"span",119),a._UZ(3,"i",120),a._uU(4," Produit ajout\xe9 \xe0 votre panier avec succ\xe8s"),a.qZA(),a.TgZ(5,"button",121),a.NdJ("click",function(){return a.CHM(t),a.oxw().cartNotificationVisible=!1}),a._UZ(6,"i",122),a.qZA(),a.qZA(),a.YNc(7,N,35,10,"div",123),a.qZA()}if(2&t){const t=a.oxw();a.xp6(7),a.Q6J("ngIf",t.produit)}}function P(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"div",140),a.TgZ(1,"button",141),a.NdJ("click",function(){return a.CHM(t),a.oxw(2).closeReviewNotification()}),a._uU(2," Continuer "),a.qZA(),a.qZA()}}const J=function(t,i){return{"fa-check":t,"fa-exclamation-circle":i}};function I(t,i){if(1&t){const t=a.EpF();a.TgZ(0,"div",135),a.TgZ(1,"div",118),a.TgZ(2,"span",136),a._UZ(3,"i",137),a.qZA(),a.TgZ(4,"span",138),a._uU(5),a.qZA(),a.TgZ(6,"button",121),a.NdJ("click",function(){return a.CHM(t),a.oxw().closeReviewNotification()}),a._UZ(7,"i",122),a.qZA(),a.qZA(),a.TgZ(8,"div",124),a.TgZ(9,"p"),a._uU(10),a.qZA(),a.YNc(11,P,3,0,"div",139),a.qZA(),a.qZA()}if(2&t){const t=a.oxw();a.Q6J("ngClass",t.reviewNotificationType),a.xp6(3),a.Q6J("ngClass",a.WLB(5,J,"success"===t.reviewNotificationType,"error"===t.reviewNotificationType)),a.xp6(2),a.hij(" ","success"===t.reviewNotificationType?"Succ\xe8s":"Erreur"," "),a.xp6(5),a.Oqu(t.reviewNotificationMessage),a.xp6(1),a.Q6J("ngIf","success"===t.reviewNotificationType)}}const Q=function(t,i){return{"out-of-stock":t,"in-stock":i}},j=function(t){return{disabled:t}},R=function(t){return{"pointer-events":t}},S=function(){return[]},V=[{path:"",component:(()=>{class t{constructor(t,i,e,n,o,a,r){this.route=t,this.produitService=i,this.cartService=e,this.wishlistService=n,this.authService=o,this.rout=a,this.reviewService=r,this.currentImage="",this.imageLoading=!0,this.imageChanged=!1,this.reviewNotificationVisible=!1,this.reviewNotificationType="success",this.reviewNotificationMessage="",this.productId="",this.quantity=1,this.showConfirmation=!1,this.reviews=[],this.rating=0,this.reviewText="",this.reviewerName="",this.reviewerEmail="",this.averageRating=0,this.reviewCount=0,this.cartNotificationVisible=!1,this.cartTotals={subtotal:0,shipping:0,total:0}}ngOnInit(){this.quantity=1,this.prodId=this.route.snapshot.paramMap.get("id")||"",this.prodId?this.produitService.getProduitDetails(this.prodId).subscribe(t=>{this.produit=t,this.currentImage=this.produit.image,this.getReviews()},t=>{console.error("Erreur de chargement du produit",t)}):console.error("Erreur: ID du produit non trouv\xe9 dans l'URL.")}changeMainImage(t){this.currentImage!==t&&(this.imageChanged=!0,this.currentImage=t,setTimeout(()=>{this.imageChanged=!1},300))}onImageLoad(){this.imageLoading=!1}handleMouseMove(t){const i=t.currentTarget,e=i.querySelector(".product-image");if(!e)return;const n=i.getBoundingClientRect();e.style.transform=`perspective(1000px) rotateX(${-20*((t.clientY-n.top)/n.height-.5)}deg) rotateY(${20*((t.clientX-n.left)/n.width-.5)}deg) scale(1.05)`}handleMouseLeave(t){const i=t.currentTarget.querySelector(".product-image");i&&(i.style.transform="perspective(1000px) rotateX(0) rotateY(0) scale(1)")}getReviews(){this.reviewService.getReviewsByProduct(this.prodId).subscribe(t=>{this.reviews=t,this.reviewCount=this.reviews.length,this.calculateAverageRating()},t=>{console.error("Erreur lors du chargement des avis :",t)})}calculateAverageRating(){if(this.reviews.length>0){const t=this.reviews.reduce((t,i)=>t+i.rating,0);this.averageRating=t/this.reviews.length}else this.averageRating=0}submitReview(){if(!this.authService.userLoggedIn())return this.reviewNotificationType="error",this.reviewNotificationMessage="Vous devez \xeatre connect\xe9 pour laisser un avis.",this.reviewNotificationVisible=!0,setTimeout(()=>{this.reviewNotificationVisible=!1},5e3),void this.rout.navigate(["/login"]);if(!this.reviewText.trim())return this.reviewNotificationType="error",this.reviewNotificationMessage="Votre commentaire ne peut pas \xeatre vide.",this.reviewNotificationVisible=!0,void setTimeout(()=>{this.reviewNotificationVisible=!1},5e3);const t={user:this.authService.getUserId(),product:this.prodId,rating:this.rating,comment:this.reviewText};this.reviewService.addReview(t).subscribe(t=>{console.log("Avis ajout\xe9 avec succ\xe8s",t),this.reviewNotificationType="success",this.reviewNotificationMessage="Votre avis a \xe9t\xe9 soumis avec succ\xe8s.",this.reviewNotificationVisible=!0,setTimeout(()=>{this.reviewNotificationVisible=!1},5e3),this.reviewText="",this.rating=5,this.getReviews()},t=>{console.error("Erreur lors de l'ajout de l'avis",t),this.reviewNotificationType="error",this.reviewNotificationMessage="Une erreur s'est produite lors de l'ajout de votre avis. Veuillez r\xe9essayer plus tard.",this.reviewNotificationVisible=!0,setTimeout(()=>{this.reviewNotificationVisible=!1},5e3)})}closeReviewNotification(){this.reviewNotificationVisible=!1}incrementQuantity(){this.quantity<this.produit.stock?this.quantity++:alert(`Maximum disponible: ${this.produit.stock} unit\xe9s`)}decrementQuantity(){this.quantity>1&&this.quantity--}addToCart(t){this.produit&&("Rupture de stock"===this.produit.available||this.produit.stock<=0||this.quantity<=0||this.quantity>this.produit.stock||this.cartService.addToCart(t,this.quantity).subscribe(t=>{console.log("Produit ajout\xe9 au panier",t),this.cartTotals.subtotal=this.produit.price*this.quantity,this.cartTotals.total=this.cartTotals.subtotal+this.cartTotals.shipping,this.cartNotificationVisible=!0,setTimeout(()=>{this.cartNotificationVisible=!1},1e4)},t=>{console.error("Erreur lors de l'ajout au panier",t)}))}addToWishlist(t){this.authService.userLoggedIn()?this.wishlistService.addToWishlist(t).subscribe({next:t=>{console.log("Produit ajout\xe9 \xe0 la wishlist:",t),this.showConfirmation=!0,setTimeout(()=>{this.showConfirmation=!1},5e3)}}):this.rout.navigate(["/login"])}goToWishlist(){this.rout.navigate(["/wishlists"])}}return t.\u0275fac=function(i){return new(i||t)(a.Y36(o.gz),a.Y36(r.K),a.Y36(s.r),a.Y36(c.m),a.Y36(g.A),a.Y36(o.F0),a.Y36(u.b))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-detailproduit"]],decls:210,vars:52,consts:[["id","app"],[1,"app-content"],[1,"u-s-p-t-90"],[1,"container"],[1,"row"],[1,"col-lg-5"],["class","pd u-s-m-b-30 product-image-container",4,"ngIf"],[1,"u-s-m-t-15","thumbnail-container"],[1,"slider-fouc"],["id","pd-o-thumbnail"],["class","thumbnail","alt","Product Main Image","onError","this.src='/path/to/default-image.jpg'",3,"ngClass","src","click",4,"ngIf"],[4,"ngIf","ngIfElse"],["noImages",""],[1,"col-lg-7"],[1,"pd-detail"],[1,"pd-detail__name"],[1,"pd-detail__inline"],[1,"pd-detail__price"],["class","pd-detail__discount",4,"ngIf"],["class","pd-detail__del",4,"ngIf"],[1,"u-s-m-b-15"],[1,"pd-detail__stock",3,"ngClass"],["class","pd-detail__left",4,"ngIf"],[1,"pd-detail__preview-desc"],[1,"pd-detail__click-wrap"],[1,"far","fa-heart","u-s-m-r-6"],["href","#",3,"click"],[1,"pd-social-list"],["href","#",1,"s-fb--color-hover"],[1,"fab","fa-facebook-f"],["href","#",1,"s-tw--color-hover"],[1,"fab","fa-twitter"],["href","#",1,"s-insta--color-hover"],[1,"fab","fa-instagram"],["href","#",1,"s-wa--color-hover"],[1,"fab","fa-whatsapp"],["href","#",1,"s-gplus--color-hover"],[1,"fab","fa-google-plus-g"],[1,"pd-detail__form"],[1,"pd-detail-inline-2"],[1,"input-counter",3,"ngClass"],[1,"input-counter__minus","fas","fa-minus",3,"ngStyle","click"],["type","text","data-min","1","data-max","1000",1,"input-counter__text","input-counter--text-primary-style",3,"ngModel","value","disabled","ngModelChange"],[1,"input-counter__plus","fas","fa-plus",3,"ngStyle","click"],["type","submit",1,"btn","btn--e-brand-b-2",3,"disabled","ngClass","click"],[1,"pd-detail__label","u-s-m-b-8"],[1,"pd-detail__policy-list"],[1,"fas","fa-check-circle","u-s-m-r-8"],["class","confirmation-message",4,"ngIf"],[1,"u-s-p-y-90"],[1,"col-lg-12"],[1,"pd-tab"],[1,"u-s-m-b-30"],[1,"nav","pd-tab__list"],[1,"nav-item"],["id","view-review","data-toggle","tab","href","#pd-rev",1,"nav-link"],[1,"tab-content"],["id","pd-rev",1,"tab-pane"],[1,"pd-tab__rev"],[1,"pd-tab__rev-score"],[1,"u-s-m-b-8"],[1,"gl-rating-style-2","u-s-m-b-8"],["class","fas",3,"fa-star","fa-star-half-alt","fa-star-o",4,"ngFor","ngForOf"],[1,"gl-text"],[1,"pd-tab__rev-f1"],[1,"rev-f1__group"],[1,"rev-f1__review"],["class","review-o u-s-m-b-15",4,"ngFor","ngForOf"],[1,"pd-tab__rev-f2",3,"ngSubmit"],[1,"gl-text","u-s-m-b-15"],[1,"rev-f2__table-wrap","gl-scroll"],[1,"rev-f2__table"],[1,"gl-rating-style-2"],[1,"fas","fa-star"],[1,"radio-box"],["type","radio","id","star-1","name","rating","value","1",3,"ngModel","ngModelChange"],[1,"radio-box__state","radio-box__state--primary"],["for","star-1",1,"radio-box__label"],["type","radio","id","star-2","name","rating","value","2",3,"ngModel","ngModelChange"],["for","star-2",1,"radio-box__label"],["type","radio","id","star-3","name","rating","value","3",3,"ngModel","ngModelChange"],["for","star-3",1,"radio-box__label"],["type","radio","id","star-4","name","rating","value","4",3,"ngModel","ngModelChange"],["for","star-4",1,"radio-box__label"],["type","radio","id","star-5","name","rating","value","5",3,"ngModel","ngModelChange"],["for","star-5",1,"radio-box__label"],[1,"rev-f2__group"],["for","reviewer-text",1,"gl-label"],["id","reviewer-text","name","reviewText","required","",1,"text-area","text-area--primary-style",3,"ngModel","ngModelChange"],["for","reviewer-name",1,"gl-label"],["type","text","id","reviewer-name","name","reviewerName","required","",1,"input-text","input-text--primary-style",3,"ngModel","ngModelChange"],["for","reviewer-email",1,"gl-label"],["type","email","id","reviewer-email","name","reviewerEmail","required","",1,"input-text","input-text--primary-style",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn--e-brand-shadow"],["class","cart-notification",4,"ngIf"],["class","review-notification",3,"ngClass",4,"ngIf"],[1,"pd","u-s-m-b-30","product-image-container"],["noImage",""],["alt","Produit","onError","this.src='/path/to/default-image.jpg'",1,"u-img-fluid","product-image",3,"ngClass","src","load"],["alt","Produit",1,"u-img-fluid",3,"src"],["alt","Product Main Image","onError","this.src='/path/to/default-image.jpg'",1,"thumbnail",3,"ngClass","src","click"],["class","thumbnail","alt","Product Thumbnail","onError","this.src='/path/to/default-image.jpg'",3,"ngClass","src","click",4,"ngFor","ngForOf"],["alt","Product Thumbnail","onError","this.src='/path/to/default-image.jpg'",1,"thumbnail",3,"ngClass","src","click"],[4,"ngIf"],[1,"pd-detail__discount"],[1,"pd-detail__del"],[1,"pd-detail__left"],[1,"confirmation-message"],[3,"click"],[1,"fas"],[1,"review-o","u-s-m-b-15"],[1,"review-o__info","u-s-m-b-8"],[1,"review-o__name"],[1,"review-o__date"],[1,"review-o__rating","gl-rating-style","u-s-m-b-8"],[4,"ngFor","ngForOf"],[1,"review-o__text"],[1,"cart-notification"],[1,"notification-header"],[1,"success-icon"],[1,"fas","fa-check"],[1,"close-button",3,"click"],[1,"fas","fa-times"],["class","notification-content",4,"ngIf"],[1,"notification-content"],[1,"product-details"],[1,"product-image"],[3,"src","alt"],[1,"product-info"],[1,"cart-summary"],[1,"summary-line"],[1,"summary-line","total"],[1,"action-buttons"],[1,"continue-btn",3,"click"],[1,"checkout-btn",3,"routerLink"],[1,"review-notification",3,"ngClass"],[1,"notification-icon"],[1,"fas",3,"ngClass"],[1,"notification-title"],["class","notification-actions",4,"ngIf"],[1,"notification-actions"],[1,"btn","btn--e-brand-b-2",3,"click"]],template:function(t,i){if(1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a.TgZ(5,"div",5),a.YNc(6,f,4,2,"div",6),a.TgZ(7,"div",7),a.TgZ(8,"div",8),a.TgZ(9,"div",9),a.YNc(10,v,1,4,"img",10),a.YNc(11,T,2,1,"div",11),a.YNc(12,q,1,1,"ng-template",null,12,a.W1O),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"div",13),a.TgZ(15,"div",14),a.TgZ(16,"div"),a.TgZ(17,"span",15),a._uU(18),a.qZA(),a.qZA(),a.TgZ(19,"div"),a.TgZ(20,"div",16),a.TgZ(21,"span",17),a._uU(22),a.qZA(),a.YNc(23,b,2,1,"span",18),a.YNc(24,A,2,1,"del",19),a.qZA(),a.qZA(),a.TgZ(25,"div",20),a.TgZ(26,"div",16),a.TgZ(27,"span",21),a._uU(28),a.qZA(),a.YNc(29,x,2,1,"span",22),a.qZA(),a.qZA(),a.TgZ(30,"div",20),a.TgZ(31,"span",23),a._uU(32),a.qZA(),a.qZA(),a.TgZ(33,"div",20),a.TgZ(34,"div",16),a.TgZ(35,"span",24),a._UZ(36,"i",25),a.TgZ(37,"a",26),a.NdJ("click",function(t){return i.addToWishlist(i.produit._id),t.preventDefault()}),a._uU(38," Ajouter \xe0 la liste de souhaits"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(39,"div",20),a.TgZ(40,"ul",27),a.TgZ(41,"li"),a.TgZ(42,"a",28),a._UZ(43,"i",29),a.qZA(),a.qZA(),a.TgZ(44,"li"),a.TgZ(45,"a",30),a._UZ(46,"i",31),a.qZA(),a.qZA(),a.TgZ(47,"li"),a.TgZ(48,"a",32),a._UZ(49,"i",33),a.qZA(),a.qZA(),a.TgZ(50,"li"),a.TgZ(51,"a",34),a._UZ(52,"i",35),a.qZA(),a.qZA(),a.TgZ(53,"li"),a.TgZ(54,"a",36),a._UZ(55,"i",37),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(56,"div",20),a.TgZ(57,"form",38),a.TgZ(58,"div",39),a.TgZ(59,"div",20),a.TgZ(60,"div",40),a.TgZ(61,"span",41),a.NdJ("click",function(){return i.decrementQuantity()}),a.qZA(),a.TgZ(62,"input",42),a.NdJ("ngModelChange",function(t){return i.quantity=t}),a.qZA(),a.TgZ(63,"span",43),a.NdJ("click",function(){return i.incrementQuantity()}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(64,"div",20),a.TgZ(65,"button",44),a.NdJ("click",function(){return i.addToCart(i.produit._id)}),a._uU(66),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(67,"div",20),a.TgZ(68,"span",45),a._uU(69,"Politique produit : "),a.qZA(),a.TgZ(70,"ul",46),a.TgZ(71,"li"),a._UZ(72,"i",47),a.TgZ(73,"span"),a._uU(74,"Protection de l'acheteur."),a.qZA(),a.qZA(),a.TgZ(75,"li"),a._UZ(76,"i",47),a.TgZ(77,"span"),a._uU(78," Remboursement complet si vous ne recevez pas votre commande."),a.qZA(),a.qZA(),a.TgZ(79,"li"),a._UZ(80,"i",47),a.TgZ(81,"span"),a._uU(82,"Retours accept\xe9s si le produit ne correspond pas \xe0 la description."),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(83,w,5,0,"div",48),a.TgZ(84,"div",49),a.TgZ(85,"div",3),a.TgZ(86,"div",4),a.TgZ(87,"div",50),a.TgZ(88,"div",51),a.TgZ(89,"div",52),a.TgZ(90,"ul",53),a.TgZ(91,"li",54),a.TgZ(92,"a",55),a._uU(93,"AVIS "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(94,"div",56),a.TgZ(95,"div",57),a.TgZ(96,"div",58),a.TgZ(97,"div",52),a.TgZ(98,"div",59),a.TgZ(99,"div",60),a.TgZ(100,"h2"),a._uU(101),a.ALo(102,"number"),a.qZA(),a.qZA(),a.TgZ(103,"div",61),a.YNc(104,M,1,6,"i",62),a.qZA(),a.TgZ(105,"div",60),a.TgZ(106,"h4"),a._uU(107," Nous voulons avoir de vos nouvelles !"),a.qZA(),a.qZA(),a.TgZ(108,"span",63),a._uU(109," Dites-nous ce que vous pensez de cet article"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(110,"div",52),a.TgZ(111,"form",64),a.TgZ(112,"div",65),a.TgZ(113,"div",20),a.TgZ(114,"h2"),a._uU(115),a.qZA(),a.qZA(),a.qZA(),a.TgZ(116,"div",66),a.YNc(117,k,13,9,"div",67),a.qZA(),a.qZA(),a.qZA(),a.TgZ(118,"div",52),a.TgZ(119,"form",68),a.NdJ("ngSubmit",function(){return i.submitReview()}),a.TgZ(120,"h2",20),a._uU(121,"Ajouter un avis "),a.qZA(),a.TgZ(122,"span",69),a._uU(123," Votre adresse e-mail ne sera pas publi\xe9e. Les champs obligatoires sont marqu\xe9s d'un ast\xe9risque (*)."),a.qZA(),a.TgZ(124,"div",52),a.TgZ(125,"div",70),a.TgZ(126,"table",71),a.TgZ(127,"thead"),a.TgZ(128,"tr"),a.TgZ(129,"th"),a.TgZ(130,"div",72),a._UZ(131,"i",73),a.TgZ(132,"span"),a._uU(133,"(1)"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(134,"th"),a.TgZ(135,"div",72),a._UZ(136,"i",73),a._UZ(137,"i",73),a.TgZ(138,"span"),a._uU(139,"(2)"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(140,"th"),a.TgZ(141,"div",72),a._UZ(142,"i",73),a._UZ(143,"i",73),a._UZ(144,"i",73),a.TgZ(145,"span"),a._uU(146,"(3)"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(147,"th"),a.TgZ(148,"div",72),a._UZ(149,"i",73),a._UZ(150,"i",73),a._UZ(151,"i",73),a._UZ(152,"i",73),a.TgZ(153,"span"),a._uU(154,"(4)"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(155,"th"),a.TgZ(156,"div",72),a._UZ(157,"i",73),a._UZ(158,"i",73),a._UZ(159,"i",73),a._UZ(160,"i",73),a._UZ(161,"i",73),a.TgZ(162,"span"),a._uU(163,"(5)"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(164,"tbody"),a.TgZ(165,"tr"),a.TgZ(166,"td"),a.TgZ(167,"div",74),a.TgZ(168,"input",75),a.NdJ("ngModelChange",function(t){return i.rating=t}),a.qZA(),a.TgZ(169,"div",76),a._UZ(170,"label",77),a.qZA(),a.qZA(),a.qZA(),a.TgZ(171,"td"),a.TgZ(172,"div",74),a.TgZ(173,"input",78),a.NdJ("ngModelChange",function(t){return i.rating=t}),a.qZA(),a.TgZ(174,"div",76),a._UZ(175,"label",79),a.qZA(),a.qZA(),a.qZA(),a.TgZ(176,"td"),a.TgZ(177,"div",74),a.TgZ(178,"input",80),a.NdJ("ngModelChange",function(t){return i.rating=t}),a.qZA(),a.TgZ(179,"div",76),a._UZ(180,"label",81),a.qZA(),a.qZA(),a.qZA(),a.TgZ(181,"td"),a.TgZ(182,"div",74),a.TgZ(183,"input",82),a.NdJ("ngModelChange",function(t){return i.rating=t}),a.qZA(),a.TgZ(184,"div",76),a._UZ(185,"label",83),a.qZA(),a.qZA(),a.qZA(),a.TgZ(186,"td"),a.TgZ(187,"div",74),a.TgZ(188,"input",84),a.NdJ("ngModelChange",function(t){return i.rating=t}),a.qZA(),a.TgZ(189,"div",76),a._UZ(190,"label",85),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(191,"div",86),a.TgZ(192,"div",20),a.TgZ(193,"label",87),a._uU(194,"VOTRE AVIS *"),a.qZA(),a.TgZ(195,"textarea",88),a.NdJ("ngModelChange",function(t){return i.reviewText=t}),a.qZA(),a.qZA(),a.TgZ(196,"div"),a.TgZ(197,"p",52),a.TgZ(198,"label",89),a._uU(199,"Nom *"),a.qZA(),a.TgZ(200,"input",90),a.NdJ("ngModelChange",function(t){return i.reviewerName=t}),a.qZA(),a.qZA(),a.TgZ(201,"p",52),a.TgZ(202,"label",91),a._uU(203,"EMAIL *"),a.qZA(),a.TgZ(204,"input",92),a.NdJ("ngModelChange",function(t){return i.reviewerEmail=t}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(205,"div"),a.TgZ(206,"button",93),a._uU(207,"SOUMETTRE"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.YNc(208,O,8,1,"div",94),a.YNc(209,I,12,8,"div",95)),2&t){const t=a.MAs(13);a.xp6(6),a.Q6J("ngIf",i.produit),a.xp6(4),a.Q6J("ngIf",null==i.produit?null:i.produit.image),a.xp6(1),a.Q6J("ngIf",(null==i.produit?null:i.produit.images)&&(null==i.produit?null:i.produit.images.length)>0)("ngIfElse",t),a.xp6(7),a.Oqu(i.produit.name),a.xp6(4),a.hij("",i.produit.price," DT"),a.xp6(1),a.Q6J("ngIf",i.produit.discount),a.xp6(1),a.Q6J("ngIf",i.produit.oldPrice),a.xp6(3),a.Q6J("ngClass",a.WLB(40,Q,"Rupture de stock"===i.produit.available||i.produit.stock<=0,"Rupture de stock"!==i.produit.available&&i.produit.stock>0)),a.xp6(1),a.hij(" ","Rupture de stock"===i.produit.available||i.produit.stock<=0?"Rupture de stock":"En stock"," "),a.xp6(1),a.Q6J("ngIf",i.produit.stock<=5&&i.produit.stock>0),a.xp6(3),a.Oqu(i.produit.description),a.xp6(28),a.Q6J("ngClass",a.VKq(43,j,"Rupture de stock"===i.produit.available||i.produit.stock<=0)),a.xp6(1),a.Q6J("ngStyle",a.VKq(45,R,"Rupture de stock"===i.produit.available||i.produit.stock<=0?"none":"auto")),a.xp6(1),a.Q6J("ngModel",i.quantity)("value",i.quantity)("disabled","Rupture de stock"===i.produit.available||i.produit.stock<=0),a.xp6(1),a.Q6J("ngStyle",a.VKq(47,R,"Rupture de stock"===i.produit.available||i.produit.stock<=0?"none":"auto")),a.xp6(2),a.Q6J("disabled","Rupture de stock"===i.produit.available||i.produit.stock<=0)("ngClass",a.VKq(49,j,"Rupture de stock"===i.produit.available||i.produit.stock<=0)),a.xp6(1),a.hij(" ","Rupture de stock"!==i.produit.available&&i.produit.stock>0?"Ajouter au panier ":"Repture de Stock"," "),a.xp6(17),a.Q6J("ngIf",i.showConfirmation),a.xp6(18),a.AsE("",i.reviewCount," AVIS - ",a.xi3(102,37,i.averageRating,"1.1-1")," (Dans l'ensemble)"),a.xp6(3),a.Q6J("ngForOf",a.DdM(51,S).constructor(5)),a.xp6(11),a.hij("",i.reviews.length," Avi(s) sur ce produit"),a.xp6(2),a.Q6J("ngForOf",i.reviews),a.xp6(51),a.Q6J("ngModel",i.rating),a.xp6(5),a.Q6J("ngModel",i.rating),a.xp6(5),a.Q6J("ngModel",i.rating),a.xp6(5),a.Q6J("ngModel",i.rating),a.xp6(5),a.Q6J("ngModel",i.rating),a.xp6(7),a.Q6J("ngModel",i.reviewText),a.xp6(5),a.Q6J("ngModel",i.reviewerName),a.xp6(4),a.Q6J("ngModel",i.reviewerEmail),a.xp6(4),a.Q6J("ngIf",i.cartNotificationVisible),a.xp6(1),a.Q6J("ngIf",i.reviewNotificationVisible)}},directives:[n.O5,n.mk,d._Y,d.JL,d.F,n.PC,d.Fj,d.JJ,d.On,n.sg,d._,d.Q7,o.rH],pipes:[n.JJ,n.uU],styles:['.out-of-stock[_ngcontent-%COMP%]{background-color:red;color:#fff;padding:.2rem .5rem;border-radius:3px}.confirmation-message[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;background-color:#4caf50;color:#fff;padding:15px;border-radius:5px;box-shadow:0 2px 10px #0000001a;z-index:1000}.confirmation-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#4caf50;border:none;padding:5px 10px;border-radius:3px;cursor:pointer;margin-top:10px}.in-stock[_ngcontent-%COMP%]{color:#4caf50!important;font-weight:700}.btn--e-brand-b-2.disabled[_ngcontent-%COMP%]{background-color:#ccc!important;color:#666!important;cursor:not-allowed!important}.input-counter.disabled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-counter.disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.cart-notification[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;background-color:#fff;box-shadow:0 2px 10px #0003;z-index:9999;animation:slideDown .3s ease-out}@keyframes slideDown{0%{transform:translateY(-100%)}to{transform:translateY(0)}}.notification-header[_ngcontent-%COMP%]{justify-content:space-between;padding:10px 20px;border-bottom:1px solid #eee}.success-icon[_ngcontent-%COMP%]{color:#4caf50;font-weight:500}.success-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.close-button[_ngcontent-%COMP%]{font-size:1.2rem;color:#555}.notification-content[_ngcontent-%COMP%]{display:flex}.product-details[_ngcontent-%COMP%]{display:flex;flex:1;padding-right:20px;border-right:1px solid #eee}.product-image[_ngcontent-%COMP%]{width:120px;height:120px;padding:10px}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.product-info[_ngcontent-%COMP%]{flex:1;padding:0 20px}.product-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px}.cart-summary[_ngcontent-%COMP%]{flex:1;padding-left:30px}.summary-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.summary-line.total[_ngcontent-%COMP%]{font-weight:700;border-top:1px solid #eee;padding-top:10px;margin-top:10px}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.checkout-btn[_ngcontent-%COMP%], .continue-btn[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:4px;cursor:pointer;font-weight:500}.continue-btn[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#333}.checkout-btn[_ngcontent-%COMP%]{background-color:#0056b3;color:#fff}.checkout-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.product-image-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:8px;box-shadow:0 4px 8px #0000001a;transition:all .3s ease}.product-image-container[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]{transform:scale(1.1)}.product-image[_ngcontent-%COMP%]{width:100%;height:auto;transition:transform .5s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.image-loading[_ngcontent-%COMP%]{animation:fadeIn 1s ease-in}.thumbnail-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;grid-gap:10px;gap:10px;margin-top:15px}.thumbnail[_ngcontent-%COMP%]{width:70px;height:70px;border:2px solid #0000;border-radius:5px;cursor:pointer;object-fit:cover;transition:all .3s ease}.thumbnail[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.active-thumbnail[_ngcontent-%COMP%], .thumbnail[_ngcontent-%COMP%]:hover{border-color:#d10024}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.image-change[_ngcontent-%COMP%]{animation:pulse .3s ease-in-out}.review-notification[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:400px;background-color:#fff;border-radius:8px;box-shadow:0 0 20px #0003;z-index:1000;overflow:hidden;animation:slideIn .3s ease-out}@keyframes slideIn{0%{transform:translate(-50%,-60%);opacity:0}to{transform:translate(-50%,-50%);opacity:1}}.review-notification.success[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{background-color:#4caf50}.review-notification.error[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{background-color:#f44336}.notification-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px;color:#fff}.notification-icon[_ngcontent-%COMP%]{margin-right:10px;font-size:18px}.notification-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;flex:1}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer;font-size:16px}.notification-content[_ngcontent-%COMP%]{padding:20px}.notification-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;color:#333;font-size:16px;line-height:1.5}.notification-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.notification-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px}.review-notification[_ngcontent-%COMP%]:before{content:"";position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:-1}']}),t})()}];let Y=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[o.Bz.forChild(V)],o.Bz]}),t})(),E=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[n.ez,Y,d.u5,d.UX]]}),t})()}}]);